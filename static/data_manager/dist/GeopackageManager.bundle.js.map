{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/components/PublishModal.jsx","webpack:///./src/containers/GeopackageManager.jsx","webpack:///./src/actions/permissions.js","webpack:///./src/themes/index.js","webpack:///./src/components/FileUploadItem.jsx","webpack:///./src/components/UploadListItem.jsx","webpack:///./src/components/DownloadModal.jsx","webpack:///./src/reducers/other.js","webpack:///./src/api/index.js","webpack:///./src/store/index.js","webpack:///./src/reducers/permissions.js","webpack:///./src/reducers/uploads.js","webpack:///./src/actions/constants.js","webpack:///./src/constants.js","webpack:///./src/components/UpdateExistingModal.jsx","webpack:///./src/store/configureStore.js","webpack:///./src/reducers/index.js","webpack:///./src/components/UploadsList.jsx","webpack:///./src/components/ArcGISLayerModal.jsx","webpack:///./src/components/LayerItem.jsx","webpack:///./src/actions/uploads.js","webpack:///./src/components/Appbar.jsx","webpack:///./src/utils/utils.jsx"],"names":["root","factory","exports","module","define","amd","window","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","oldJsonpFunction","slice","_styles","PublishModal","_props","this","props","publishLayer","publishModalOpen","handlPublishModal","publishLoading","classes","publishName","handlePublishName","publishError","_react2","default","createElement","_Dialog2","disableBackdropClick","open","onClose","aria-labelledby","_DialogTitle2","id","_DialogContent2","_DialogContentText2","_Typography2","className","flexGrow","noWrap","color","variant","_TextField2","inputProps","maxLength","autoFocus","onChange","margin","label","fullWidth","required","_DialogActions2","_CircularProgress2","progress","thickness","_Button2","disabled","onClick","React","Component","propTypes","PropTypes","isRequired","func","bool","string","withStyles","theme","spacing","unit","_react","_uploads","_permissions","_utils","_reactRedux","_reactDom","_store","_themes","GeopackageManager","_classCallCheck3","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","onDrop","files","setState","removeUploadedFile","file","newFiles","state","filter","tFile","_this$props","token","username","urls","geopackageApi","GeopackageApi","requests","ApiRequests","setUploads","setUploadsLoading","setTotalCount","setPermissions","setPermissionsLoading","getUploads","then","objects","meta","total_count","getPermissions","_this2","_props2","uploads","uploadsLoading","MuiThemeProvider","fullHeight","_Appbar2","title","_Paper2","_classnames2","elevation","_reactDropzone2","dropZone","accept","htmlFor","_IconButton2","button","component","_FileUpload2","gutterBottom","uploadPaper","_List2","subheader","_ListSubheader2","map","index","_FileUploadItem2","_UploadsList2","array","App","connect","permissions","permissionsLoading","uploadsTotalCount","dispatch","loading","newUploads","perms","count","_extends2","height","width","marginTop","marginBottom","padding","flexDirection","display","alignItems","justifyContent","boxSizing","textAlign","mixins","toolbar","minHeight","_defineProperty3","breakpoints","down","gutters","paddingTop","paddingBottom","overflowX","zIndex","background","global","GeopackageManagerRenderer","show","el","render","Provider","store","storeWithInitial","document","getElementById","type","SET_PERMISSIONS","payload","updatePermissions","permissionKeys","operation","UPDATE_PERMISSIONS","keys","PERMISSIONS_LOADING","_constants","createMuiTheme","palette","primary","blue","secondary","red","error","deepOrange","UploadItem","newToken","split","addUpload","formData","FormData","append","uploadWithProgress","uploadsURL","evt","lengthComputable","percentComplete","Math","ceil","loaded","total","xhr","status","setTimeout","newUpload","JSON","parse","responseText","_keys2","ADD_PERMISSION_OP","statusText","_state","_ListItem2","_Avatar2","_ListItemText2","upload","CustomTableCell","head","backgroundColor","dark","common","white","body","fontSize","TableCell","UploadListItem","handleDeleted","deleteOldUpload","targetURL","doDelete","_this$props2","setCurrentLayerOpenPublishModal","setCurrentLayerOpenUpdateModal","_ExpansionPanel2","defaultExpanded","_ExpansionPanelSummary2","content","panelSummary","expandIcon","_ExpandMore2","package","pop","Date","uploaded_at","toLocaleString","user","_ExpansionPanelDetails2","tableWrapper","_Table2","table","_TableHead2","_TableRow2","textCenter","_TableBody2","layers","layer","row","_TableCell2","scope","variat","geometry_type_name","feature_count","checkPermission","upload_id","_ExpansionPanelActions2","href","download_url","size","uploadID","deleteUpload","_panelSummary","&:nth-of-type(odd)","DownloadModal","downloadSelectedLayers","downlaodLayers","typename","url","downloadURL","join","downloadModalOpen","progressModalOpen","doGet","downloadLoading","location","downloadError","error_message","catch","message","handleSelectChange","handleDownloadModal","fullScreen","disableTypography","dialogTitle","whiteText","_reactSelect2","closeOnSelect","multi","options","downloadableLayers","valueKey","labelKey","placeholder","removeSelected","textField","flexBasis","layerItem","arguments","undefined","action","SET_USERNAME","SET_URLS","SET_TOKEN","offset","pageLimit","LIMIT","permissionsURL","initialState","_configureStore","configureStore","_extends3","updateObj","parialUpdated","perm","newIds","DELETE_PERMISSION_OP","ids","Error","updateCurrentPermissions","ADD_UPLOAD","concat","_toConsumableArray3","ADD_UPLOADS","DELETE_UPLOAD","DELETE_UPLOADS","includes","SET_UPLOADS","UPLOADS_LOADING","SET_TOTAL_COUNT","UpdateExistingModal","handleLayerTitleChange","event","layerTitle","target","handleSearch","layersURL","layersLoading","currentLayer","updateExistingModalOpen","handleUpdateExistingModal","updateExistingLoading","updateError","_FormControl2","_InputLabel2","_Input2","endAdornment","_InputAdornment2","position","aria-label","_Search2","require","_LayerItem2","_redux","createStore","rootReducer","applyMiddleware","thunk","_other","combineReducers","UploadsList","expected_name","convertToSlug","replaceLayer","_this$state","publish_url","layer_url","_PublishModal2","_UpdateExistingModal2","_Divider2","_UploadListItem2","ArcGISModal","handleLayerURLChange","layerURL","publishArcGISLayer","esriPublishURL","doPost","_stringify2","content-type","task_id","alert","sendURLError","startPublish","validator","isURL","ArcGISModalOpen","handleArcGISModal","LayerItem","loadSchema","compareLayerURL","alternate","schemaLoading","schema","expand","err","compareSchema","reloadLayer","reloadURL","reloadLayerLoading","startReloadLayer","_this$props3","replaceLayerLoading","startReplaceLayer","_this$props4","layerItemActions","_Tooltip2","_Collapse2","in","timeout","unmountOnExit","compatible","schemaFields","new_fields","field","inset","deleted_fields","_layerItemActions","addUploads","deleteUploads","GeopackageAppBar","_AppBar2","_Toolbar2","flex","capitalize","layerUpload","_ArcGISLayerModal2","_DownloadModal2","textTransform","updateProgress","transferComplete","console","log","transferFailed","Text","toLowerCase","replace","permissionKey","indexOf","extraHeaders","fetch","method","redirect","credentials","headers","Headers","Authorization","response","json","text","resultFunc","progressFunc","loadFunc","errorFunc","XMLHttpRequest","addEventListener","onreadystatechange","readyState","DONE","setRequestHeader","send"],"mappings":"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","file":"GeopackageManager.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GeopackageManager\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GeopackageManager\"] = factory();\n\telse\n\t\troot[\"GeopackageManager\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/data_manager/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp_name_\"] = window[\"webpackJsonp_name_\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"7xdy\",0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\nclass PublishModal extends React.Component {\n    render() {\n        const { publishLayer, publishModalOpen, handlPublishModal, publishLoading, classes, publishName, handlePublishName, publishError } = this.props\n        return (\n            <Dialog\n                disableBackdropClick={true}\n                open={publishModalOpen}\n                onClose={handlPublishModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">{\"Publish Layer\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {publishError && <Typography className={classes.flexGrow} noWrap color=\"secondary\" variant=\"subheading\">{publishError}</Typography>}\n                        {`Please Enter Name You Want to publish Layer With.`}\n                    </DialogContentText>\n                    <TextField\n                        inputProps={{ maxLength: 63 }}\n                        autoFocus\n                        value={publishName}\n                        onChange={handlePublishName}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Publish Name\"\n                        fullWidth\n                        required\n                    />\n                </DialogContent>\n                <DialogActions>\n                    {publishLoading && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={publishLoading} onClick={handlPublishModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                    <Button disabled={publishLoading} onClick={publishLayer} color=\"primary\">\n                        {\"Publish\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nPublishModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    publishLayer: PropTypes.func.isRequired,\n    handlPublishModal: PropTypes.func.isRequired,\n    handlePublishName: PropTypes.func.isRequired,\n    publishModalOpen: PropTypes.bool.isRequired,\n    publishLoading: PropTypes.bool.isRequired,\n    publishName: PropTypes.string,\n    publishError: PropTypes.string,\n}\nexport default withStyles(styles)(PublishModal)","import 'whatwg-fetch'\nimport 'babel-polyfill'\nimport \"../css/view.css\"\n\nimport React, { Component } from 'react'\nimport { newUploads, uploadsLoading, uploadsTotalCount } from '../actions/uploads'\nimport { permissions, permissionsLoading } from '../actions/permissions'\n\nimport { ApiRequests } from '../utils/utils'\nimport AppBar from '../components/Appbar'\nimport Dropzone from 'react-dropzone'\nimport FileItem from '../components/FileUploadItem'\nimport FileUploadIcon from '@material-ui/icons/FileUpload'\nimport GeopackageApi from '../api'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport { Provider } from 'react-redux'\nimport Typography from '@material-ui/core/Typography'\nimport UploadsList from '../components/UploadsList'\nimport classnames from 'classnames'\nimport { connect } from 'react-redux'\nimport { render } from 'react-dom'\nimport { storeWithInitial } from '../store'\nimport { theme } from '../themes'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    fullHeight: {\n        height: \"100%\"\n    },\n    fullWidth: {\n        width: '100%',\n    },\n    uploadPaper: {\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    dropZone: {\n        width: \"100%\",\n        padding: '1em',\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        boxSizing: 'border-box',\n        textAlign: 'center'\n    },\n    root: {\n        height: `calc( 100% - ${theme.mixins.toolbar['@media (min-width:600px)'].minHeight}px)`,\n        [theme.breakpoints.down('sm')]: {\n            height: `calc( 100% - ${theme.mixins.toolbar['@media (min-width:0px) and (orientation: landscape)'].minHeight}px)`\n        },\n        boxSizing: 'border-box',\n        ...theme.mixins.gutters(),\n        paddingTop: theme.spacing.unit * 2,\n        paddingBottom: theme.spacing.unit * 2,\n        overflowX: 'scroll',\n        zIndex: 0,\n        background: '#f3f3f3'\n\n    },\n})\nclass GeopackageManager extends Component {\n    constructor(props) {\n        super(props)\n        const { token, username, urls } = this.props\n        this.state = {\n            files: [],\n        }\n        this.geopackageApi = new GeopackageApi(username, token, urls)\n        this.requests = new ApiRequests(username, this.token)\n    }\n    onDrop = (files) => {\n        this.setState({\n            files\n        })\n    }\n    componentDidMount() {\n        const { setUploads, setUploadsLoading, setTotalCount, setPermissions, setPermissionsLoading } = this.props\n        this.geopackageApi.getUploads().then(result => {\n            setUploads(result.objects)\n            setTotalCount(result.meta.total_count)\n            setUploadsLoading(false)\n        })\n        this.geopackageApi.getPermissions().then(result => {\n            setPermissions(result)\n            setPermissionsLoading(false)\n        })\n    }\n    removeUploadedFile = (file) => {\n        const { files } = this.state\n        let newFiles = files.filter(tFile => tFile !== file)\n        this.setState({ files: newFiles })\n    }\n    render() {\n        const { classes, uploads, uploadsLoading } = this.props\n        const { files } = this.state\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div className={classes.fullHeight}>\n                    <AppBar title=\"GIS Data Import Manager\" />\n                    <Paper className={classnames([classes.root])}>\n                        <Paper elevation={2}>\n                            <Dropzone className={classes.dropZone} accept={\".gpkg\"} onDrop={this.onDrop}>\n                                <label htmlFor=\"icon-button-file\">\n                                    <IconButton color=\"default\" className={classes.button} component=\"span\">\n                                        <FileUploadIcon />\n                                    </IconButton>\n                                </label>\n                                <Typography variant=\"display1\" gutterBottom>\n                                    {\"Click to Choose Packages or Drop Packages Here to Upload\"}\n                                </Typography>\n                            </Dropzone>\n                        </Paper>\n                        {files.length > 0 && <Paper className={classnames([classes.fullWidth], [classes.uploadPaper])} elevation={2}><List\n                            className={classes.fullWidth}\n                            component=\"nav\"\n                            subheader={<ListSubheader component=\"div\">{\"Uploading\"}</ListSubheader>}\n                        >\n                            {files.map((file, index) => <FileItem file={file} removeUploadedFile={this.removeUploadedFile} key={index} />)}\n                        </List></Paper>}\n                        {uploads.length > 0 && !uploadsLoading && <UploadsList />}\n                    </Paper>\n                </div>\n            </MuiThemeProvider>\n        )\n    }\n}\nGeopackageManager.propTypes = {\n    classes: PropTypes.object.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    token: PropTypes.string.isRequired,\n    setUploads: PropTypes.func.isRequired,\n    uploads: PropTypes.array.isRequired,\n    uploadsLoading: PropTypes.bool.isRequired,\n    setUploadsLoading: PropTypes.func.isRequired,\n    setPermissionsLoading: PropTypes.func.isRequired,\n    setPermissions: PropTypes.func.isRequired,\n    setTotalCount: PropTypes.func.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        uploads: state.uploads,\n        uploadsLoading: state.uploadsLoading,\n        permissions: state.permissions,\n        permissionsLoading: state.permissionsLoading,\n        uploadsTotalCount: state.uploadsTotalCount\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUploadsLoading: (loading) => dispatch(uploadsLoading(loading)),\n        setUploads: (uploads) => dispatch(newUploads(uploads)),\n        setPermissionsLoading: (loading) => dispatch(permissionsLoading(loading)),\n        setPermissions: (perms) => dispatch(permissions(perms)),\n        setTotalCount: (count) => dispatch(uploadsTotalCount(count)),\n    }\n}\nlet App = connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(GeopackageManager))\nglobal.GeopackageManagerRenderer = {\n    show: (el, props) => {\n        render(<Provider store={storeWithInitial(props)}><App /></Provider>, document.getElementById(el))\n    }\n}","import {\n    PERMISSIONS_LOADING,\n    SET_PERMISSIONS,\n    UPDATE_PERMISSIONS\n} from './constants'\nexport function permissions( permissions ) {\n    return {\n        type: SET_PERMISSIONS,\n        payload: permissions\n    }\n}\nexport function updatePermissions( permissionKeys, id, operation ) {\n    return {\n        type: UPDATE_PERMISSIONS,\n        payload: {\n            keys: permissionKeys,\n            id,\n            operation,\n        }\n    }\n}\nexport function permissionsLoading( loading ) {\n    return {\n        type: PERMISSIONS_LOADING,\n        payload: loading\n    }\n}\n","import blue from '@material-ui/core/colors/blue'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport red from '@material-ui/core/colors/red'\nexport const theme = createMuiTheme({\n    palette: {\n        primary: blue,\n        secondary: red,\n        error: deepOrange,\n    },\n})","import React, { Component } from 'react'\n\nimport { ADD_PERMISSION_OP } from '../actions/constants'\nimport { ApiRequests } from '../utils/utils'\nimport Avatar from '@material-ui/core/Avatar'\nimport FileIcon from '@material-ui/icons/FileUpload'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport PropTypes from 'prop-types'\nimport { addUpload } from '../actions/uploads'\nimport { connect } from 'react-redux'\nimport { updatePermissions } from '../actions/permissions'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n})\nclass UploadItem extends Component {\n    constructor(props) {\n        super(props)\n        const { username, token } = this.props\n        this.state = { progress: 0, error: null }\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    componentDidMount() {\n        const { urls, file, addUpload, updatePermissions, permissions, removeUploadedFile } = this.props\n        let formData = new FormData()\n        formData.append(\"package\", file)\n        this.requests.uploadWithProgress(urls.uploadsURL, formData, (result) => {\n        }, (evt) => {\n            if (evt.lengthComputable) {\n                let percentComplete = Math.ceil((evt.loaded / evt.total) * 100)\n                this.setState({ progress: percentComplete })\n            }\n        }, (xhr) => {\n            if (xhr.status === 201) {\n                setTimeout(function () {\n                    const newUpload = JSON.parse(xhr.responseText)\n                    addUpload(newUpload)\n                    updatePermissions(Object.keys(permissions), newUpload.id, ADD_PERMISSION_OP)\n                    removeUploadedFile(file)\n                }, 1000)\n            }\n        }, (xhr) => {\n            if (xhr.status >= 400) {\n                this.setState({ error: xhr.statusText })\n            }\n        })\n    }\n    render() {\n        const { progress, error } = this.state\n        const { file } = this.props\n        return (\n            <ListItem>\n                <Avatar>\n                    <FileIcon />\n                </Avatar>\n                <ListItemText primary={file.name} secondary={!error ? `${progress}% Complete` : error} />\n            </ListItem>\n        )\n    }\n}\nUploadItem.propTypes = {\n    file: PropTypes.object.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    token: PropTypes.string.isRequired,\n    addUpload: PropTypes.func.isRequired,\n    updatePermissions: PropTypes.func.isRequired,\n    permissions: PropTypes.object.isRequired,\n    removeUploadedFile: PropTypes.func.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        permissions: state.permissions,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addUpload: (upload) => dispatch(addUpload(upload)),\n        updatePermissions: (keys, id, operation) => dispatch(updatePermissions(keys, id, operation)),\n    }\n}\nlet App = connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadItem))\nexport default App","import { ApiRequests, checkPermission } from '../utils/utils'\n\nimport Button from '@material-ui/core/Button'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Typography from '@material-ui/core/Typography'\nimport { connect } from 'react-redux'\nimport { deleteUpload } from '../actions/uploads'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2,\n    },\n    textCenter: {\n        textAlign: 'center'\n    },\n    title: {\n        margin: theme.spacing.unit,\n        textAlign: 'center'\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    flexGrow: {\n        flexGrow: 1\n    },\n    panelSummary: {\n        display: 'flex',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n            padding: theme.spacing.unit\n        },\n        overflow: 'hidden',\n        alignItems: 'center'\n    },\n    table: {\n        width: \"100%\"\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n        width: \"100%\"\n    },\n    row: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\nconst CustomTableCell = withStyles(theme => ({\n    head: {\n        backgroundColor: theme.palette.primary.dark,\n        color: theme.palette.common.white,\n    },\n    body: {\n        fontSize: 14,\n    },\n}))(TableCell)\nclass UploadListItem extends React.Component {\n    constructor(props) {\n        super(props)\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    handleDeleted = (upload) => {\n        const { urls, deleteOldUpload } = this.props\n        const targetURL = `${urls.uploadsURL}${upload.id}/`\n        this.requests.doDelete(targetURL).then(result => {\n            deleteOldUpload(upload.id)\n        })\n    }\n    render() {\n        const { classes, upload, permissions, setCurrentLayerOpenPublishModal, setCurrentLayerOpenUpdateModal, permissionsLoading } = this.props\n        return (\n            <ExpansionPanel defaultExpanded>\n                <ExpansionPanelSummary classes={{ content: classes.panelSummary }} expandIcon={<ExpandMoreIcon />}>\n                    <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{upload.package.split(\"/\").pop()}</Typography>\n                    <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{`Uploaded At: ${new Date(upload.uploaded_at).toLocaleString()}`}</Typography>\n                    <div>\n                        <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{`Owner: ${upload.user.username}`}</Typography>\n                    </div>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <div className={classes.tableWrapper}>\n                        <Table className={classes.table}>\n                            <TableHead>\n                                <TableRow>\n                                    <CustomTableCell className={classes.textCenter}>{\"Layer Name\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Layer Type\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Feature Count\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Actions\"}</CustomTableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {!permissionsLoading && upload.layers.map((layer, index) => {\n                                    return (\n                                        <TableRow className={classes.row} key={index}>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.name}</Typography>\n                                            </TableCell>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.geometry_type_name}</Typography>\n                                            </TableCell >\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.feature_count}</Typography>\n                                            </TableCell>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                {checkPermission(permissions, 'publish_from_package', upload.id) && <Button onClick={() => setCurrentLayerOpenPublishModal(layer)} variant=\"contained\" color=\"primary\" className={classes.button}>\n                                                    {\"Publish New\"}\n                                                </Button>}\n                                                {checkPermission(permissions, 'publish_from_package', upload.id) && <Button variant=\"contained\" onClick={() => setCurrentLayerOpenUpdateModal({ ...layer, upload_id: upload.id })} color=\"secondary\" className={classes.button}>\n                                                    {\"Update Existing\"}\n                                                </Button>}\n                                            </TableCell>\n                                        </TableRow>\n                                    )\n                                })}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </ExpansionPanelDetails>\n                <ExpansionPanelActions>\n                    {!permissionsLoading && checkPermission(permissions, 'download_package', upload.id) && <Button component=\"a\" href={upload.download_url} size=\"small\" variant=\"outlined\" color=\"primary\" className={classes.button}>\n                        {\"Download\"}\n                    </Button>}\n                    {!permissionsLoading && checkPermission(permissions, 'delete_package', upload.id) && <Button onClick={() => this.handleDeleted(upload)} size=\"small\" variant=\"outlined\" color=\"secondary\" className={classes.button}>\n                        {\"Delete\"}\n                    </Button>}\n                </ExpansionPanelActions>\n            </ExpansionPanel>\n        )\n    }\n}\nUploadListItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n    deleteOldUpload: PropTypes.func.isRequired,\n    setCurrentLayerOpenPublishModal: PropTypes.func.isRequired,\n    setCurrentLayerOpenUpdateModal: PropTypes.func.isRequired,\n    upload: PropTypes.object.isRequired,\n    permissions: PropTypes.object.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    permissionsLoading: PropTypes.bool.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        permissions: state.permissions,\n        permissionsLoading: state.permissionsLoading\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        deleteOldUpload: (uploadID) => dispatch(deleteUpload(uploadID)),\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadListItem))","import 'react-select/dist/react-select.css'\n\nimport { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Select from 'react-select'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n    button: {\n        margin: theme.spacing.unit\n    },\n    margin: {\n        margin: theme.spacing.unit,\n    },\n    textField: {\n        flexBasis: 200,\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    layerItem: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    }, dialogTitle: {\n        backgroundColor: theme.palette.primary[500],\n        marginBottom: theme.spacing.unit * 2\n    }, whiteText: {\n        color: theme.palette.common.white,\n    }\n})\nclass DownloadModal extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            downlaodLayers: [],\n            downloadError: null,\n            downloadLoading: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    downloadSelectedLayers = () => {\n        const { urls } = this.props\n        const { downlaodLayers } = this.state\n        const layers = downlaodLayers.map(layer => layer.typename.split(\":\").pop())\n        const url = `${urls.downloadURL}?layer_names=${layers.join(',')}`\n        this.setState({ downloadModalOpen: false }, () => {\n            this.setState({ progressModalOpen: true }, () => {\n                this.requests.doGet(url).then(result => {\n                    if (result.download_url) {\n                        this.setState({ downloadLoading: false, downlaodLayers: [] }, () => { window.location.href = result.download_url })\n                    } else {\n                        this.setState({ downloadLoading: false, downlaodLayers: [], downloadError: result.error_message })\n                    }\n                }).catch(error => {\n                    this.setState({ downloadLoading: false, downloadError: error.message })\n                })\n            })\n        })\n    }\n    handleSelectChange = (value) => {\n        this.setState({ downlaodLayers: value })\n    }\n    render() {\n        const { downloadError, downloadLoading, downlaodLayers } = this.state\n        const { downloadModalOpen, handleDownloadModal, classes } = this.props\n        return (\n            <Dialog\n                fullScreen\n                disableBackdropClick={true}\n                open={downloadModalOpen}\n                onClose={handleDownloadModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle disableTypography={true} className={classes.dialogTitle}> <Typography className={classNames(classes.flexGrow, classes.whiteText)} noWrap variant=\"title\">{\"Download Layers\"}</Typography></DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {downloadError && <Typography className={classes.flexGrow} noWrap color=\"secondary\" variant=\"subheading\">{downloadError}</Typography>}\n                    </DialogContentText>\n                    <Select\n                        closeOnSelect={false}\n                        multi\n                        onChange={this.handleSelectChange}\n                        options={downloadableLayers}\n                        valueKey={\"typename\"}\n                        labelKey={\"title\"}\n                        placeholder=\"Layers To Download\"\n                        removeSelected={this.state.removeSelected}\n                        value={downlaodLayers}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    {downloadLoading && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={downloadLoading} onClick={handleDownloadModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                    <Button onClick={this.downloadSelectedLayers} color=\"primary\">\n                        {\"Download\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nDownloadModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    handleDownloadModal: PropTypes.func.isRequired,\n    downloadModalOpen: PropTypes.bool.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(DownloadModal))","import {\n    SET_TOKEN,\n    SET_URLS,\n    SET_USERNAME\n} from '../actions/constants'\nexport function username( state = null, action ) {\n    switch ( action.type ) {\n    case SET_USERNAME:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function urls( state = {}, action ) {\n    switch ( action.type ) {\n    case SET_URLS:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function token( state = null, action ) {\n    switch ( action.type ) {\n    case SET_TOKEN:\n        return action.payload\n    default:\n        return state\n    }\n}\n","import { ApiRequests } from '../utils/utils'\nimport { LIMIT } from '../constants'\nexport default class GeopackageApi {\n    constructor( username, token, urls ) {\n        let newToken = token.split( \" for \" )[ 0 ]\n        this.requests = new ApiRequests( username, newToken )\n        this.urls = urls\n    }\n    getUploads( offset = 0, pageLimit = LIMIT ) {\n        return this.requests.doGet(\n            `${this.urls.uploadsURL}?offset=${offset}&limit=${pageLimit}`\n        )\n    }\n    getPermissions() {\n        return this.requests.doGet( this.urls.permissionsURL )\n    }\n}\n","import { configureStore } from './configureStore'\nexport const store = configureStore()\nexport function storeWithInitial( initialState ) {\n    return configureStore( initialState )\n}\n","import {\n    ADD_PERMISSION_OP,\n    DELETE_PERMISSION_OP,\n    PERMISSIONS_LOADING,\n    SET_PERMISSIONS,\n    UPDATE_PERMISSIONS\n} from '../actions/constants'\n\nfunction updateCurrentPermissions( permissions, updateObj ) {\n    let parialUpdated = {}\n    updateObj.keys.map( key => {\n        let perm = permissions[ key ]\n        let newIds = []\n        switch ( updateObj.operation ) {\n        case DELETE_PERMISSION_OP:\n            newIds = perm.ids.filter( id => id != updateObj.id )\n            break\n        case ADD_PERMISSION_OP:\n            newIds = [ ...perm.ids, updateObj.id ]\n            break\n        default:\n            throw Error( \"Invalid Operation on Permission Obj\" )\n        }\n        perm = { ...perm,\n            ids: newIds\n        }\n        parialUpdated[ key ] = perm\n    } )\n    return { ...permissions, ...parialUpdated }\n}\nexport function permissions( state = [], action ) {\n    switch ( action.type ) {\n    case SET_PERMISSIONS:\n        return action.payload\n    case UPDATE_PERMISSIONS:\n        return { ...state, ...updateCurrentPermissions( state, action.payload ) }\n    default:\n        return state\n    }\n}\nexport function permissionsLoading( state = true, action ) {\n    switch ( action.type ) {\n    case PERMISSIONS_LOADING:\n        return action.payload\n    default:\n        return state\n    }\n}\n","import {\n    ADD_UPLOAD,\n    ADD_UPLOADS,\n    DELETE_UPLOAD,\n    DELETE_UPLOADS,\n    SET_TOTAL_COUNT,\n    SET_UPLOADS,\n    UPLOADS_LOADING\n} from '../actions/constants'\nexport function uploads( state = [], action ) {\n    switch ( action.type ) {\n    case ADD_UPLOAD:\n        return [ action.payload, ...state ]\n    case ADD_UPLOADS:\n        return [ ...state, ...action.payload ]\n    case DELETE_UPLOAD:\n        return state.filter( upload => upload.id != action.payload )\n    case DELETE_UPLOADS:\n        return state.map( upload => !action.payload.includes( upload.id ) )\n    case SET_UPLOADS:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function uploadsLoading( state = true, action ) {\n    switch ( action.type ) {\n    case UPLOADS_LOADING:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function uploadsTotalCount( state = 0, action ) {\n    switch ( action.type ) {\n    case SET_TOTAL_COUNT:\n        return action.payload\n    default:\n        return state\n    }\n}\n","export const ADD_UPLOAD = \"ADD_UPLOAD\"\nexport const ADD_UPLOADS = \"ADD_UPLOADS\"\nexport const DELETE_UPLOAD = \"DELETE_UPLOAD\"\nexport const DELETE_UPLOADS = \"DELETE_UPLOADS\"\nexport const SET_UPLOADS = \"NEW_UPLOADS\"\nexport const UPLOADS_LOADING = \"UPLOADS_LOADING\"\nexport const SET_PERMISSIONS = \"SET_PERMISSIONS\"\nexport const UPDATE_PERMISSIONS = \"UPDATE_PERMISSIONS\"\nexport const PERMISSIONS_LOADING = \"PERMISSIONS_LOADING\"\nexport const SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\"\nexport const SET_URLS = \"SET_URLS\"\nexport const SET_USERNAME = \"SET_USERNAME\"\nexport const SET_TOKEN = \"SET_TOKEN\"\nexport const ADD_PERMISSION_OP = \"ADD\"\nexport const DELETE_PERMISSION_OP = \"DELETE\"\n","\nexport const LIMIT = 20","import { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport FormControl from '@material-ui/core/FormControl'\nimport IconButton from '@material-ui/core/IconButton'\nimport Input from '@material-ui/core/Input'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport LayerItem from './LayerItem'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n    button: {\n        margin: theme.spacing.unit\n    },\n    margin: {\n        margin: theme.spacing.unit,\n    },\n    textField: {\n        flexBasis: 200,\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    layerItem: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    }, dialogTitle: {\n        backgroundColor: theme.palette.primary[500],\n        marginBottom: theme.spacing.unit * 2\n    }, whiteText: {\n        color: theme.palette.common.white,\n    }\n})\nclass UpdateExistingModal extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            layerTitle: '',\n            layers: [],\n            layersLoading: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    handleLayerTitleChange = event => {\n        this.setState({ layerTitle: event.target.value })\n    }\n    handleSearch = () => {\n\n        const { layerTitle } = this.state\n        const { urls } = this.props\n        const url = `${urls.layersURL}?title__icontains=${layerTitle}&permission=change_resourcebase`\n        this.setState({ layersLoading: true }, () => {\n            this.requests.doGet(url).then(result => {\n                this.setState({ layers: result.objects, layersLoading: false })\n            })\n        })\n    }\n\n    render() {\n        const { layers, layersLoading } = this.state\n        const { currentLayer, updateExistingModalOpen, handleUpdateExistingModal, updateExistingLoading, classes, updateError } = this.props\n        return (\n            <Dialog\n                fullScreen\n                disableBackdropClick={true}\n                open={updateExistingModalOpen}\n                onClose={handleUpdateExistingModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle disableTypography={true} className={classes.dialogTitle}> <Typography className={classNames(classes.flexGrow, classes.whiteText)} noWrap variant=\"title\">{\"Update/Replace Layer\"}</Typography></DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {updateError && <Typography className={classes.flexGrow} noWrap color=\"secondary\" variant=\"subheading\">{updateError}</Typography>}\n                        {`Search For The Layer You Want To Replace/Update By ${currentLayer ? currentLayer.name : ''}`}\n                    </DialogContentText>\n                    <FormControl className={classNames(classes.margin, classes.textField, classes.fullWidth)}>\n                        <InputLabel htmlFor=\"layers-search\">{`Layer Name/Layer Title`}</InputLabel>\n                        <Input\n                            id=\"layers-search\"\n                            type={'text'}\n                            value={this.state.layerTitle}\n                            onChange={this.handleLayerTitleChange}\n                            endAdornment={\n                                <InputAdornment position=\"end\">\n                                    <IconButton\n                                        aria-label=\"Search\"\n                                        onClick={this.handleSearch}\n                                    >\n                                        <SearchIcon />\n                                    </IconButton>\n                                </InputAdornment>\n                            }\n                            require=\"true\"\n                            fullWidth\n                        />\n                    </FormControl>\n                    {!layersLoading && layers.length > 0 && layers.map(layer => {\n                        return <LayerItem key={layer.id} currentLayer={currentLayer} layer={layer} />\n                    })}\n                </DialogContent>\n                <DialogActions>\n                    {(updateExistingLoading || layersLoading) && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={updateExistingLoading || layersLoading} onClick={handleUpdateExistingModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nUpdateExistingModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    currentLayer: PropTypes.object,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    handleUpdateExistingModal: PropTypes.func.isRequired,\n    updateExistingModalOpen: PropTypes.bool.isRequired,\n    updateExistingLoading: PropTypes.bool.isRequired,\n    updateError: PropTypes.string,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UpdateExistingModal))","import { applyMiddleware, createStore } from 'redux'\n\nimport rootReducer from '../reducers'\nimport thunk from 'redux-thunk'\n\nexport function configureStore( initialState ) {\n    return createStore( rootReducer, initialState, applyMiddleware( thunk ) )\n}","import {\n    permissions,\n    permissionsLoading\n} from './permissions'\nimport {\n    token,\n    urls,\n    username\n} from './other'\nimport {\n    uploads,\n    uploadsLoading,\n    uploadsTotalCount\n} from './uploads'\n\nimport { combineReducers } from 'redux'\n\nexport default combineReducers( {\n    uploads,\n    uploadsLoading,\n    permissions,\n    permissionsLoading,\n    uploadsTotalCount,\n    urls,\n    username,\n    token,\n} )\n","import { ApiRequests, convertToSlug } from '../utils/utils'\n\nimport Divider from '@material-ui/core/Divider'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport PublishModal from './PublishModal'\nimport React from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport UpdateExistingModal from './UpdateExistingModal'\nimport UploadListItem from './UploadListItem'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2,\n        boxSizing: 'border-box',\n        padding: theme.spacing.unit,\n    },\n    textCenter: {\n        textAlign: 'center'\n    },\n    title: {\n        margin: theme.spacing.unit,\n        textAlign: 'center'\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    flexGrow: {\n        flexGrow: 1\n    },\n    panelSummary: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    table: {\n        width: \"100%\"\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n        width: \"100%\"\n    },\n    row: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\n\nclass UploadsList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            publishModalOpen: false,\n            publishName: null,\n            currentLayer: null,\n            publishLoading: false,\n            publishError: null,\n            updateError: null,\n            updateExistingLoading: false,\n            updateExistingModalOpen: false,\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    setCurrentLayerOpenPublishModal = (layer) => {\n        this.setState({ currentLayer: layer, publishName: layer.expected_name }, this.handlPublishModal)\n    }\n    setCurrentLayerOpenUpdateModal = (layer) => {\n        this.setState({ currentLayer: layer }, this.handleUpdateExistingModal)\n    }\n    handlPublishModal = () => {\n        const { publishModalOpen } = this.state\n        this.setState({ publishModalOpen: !publishModalOpen, publishError: null })\n    }\n    handleUpdateExistingModal = () => {\n        const { updateExistingModalOpen } = this.state\n        this.setState({ updateExistingModalOpen: !updateExistingModalOpen, updateError: null })\n    }\n    handlePublishName = (event) => {\n        this.setState({ publishName: convertToSlug(event.target.value) })\n    }\n    replaceLayer = () => {\n\n    }\n    publishLayer = () => {\n        const { currentLayer, publishName } = this.state\n        this.setState({ publishLoading: true }, () => {\n            this.requests.doGet(`${currentLayer.urls.publish_url}?publish_name=${publishName}`).then(result => {\n                if (result.layer_url) {\n                    window.location.href = result.layer_url\n                } else {\n                    throw Error(result.error_message)\n                }\n            }).catch(error => {\n                this.setState({ publishLoading: false, publishError: error.message })\n            })\n        })\n\n\n    }\n    render() {\n        const { classes, uploads } = this.props\n        const { publishModalOpen, publishLoading, publishError, publishName, updateExistingLoading, updateError, updateExistingModalOpen, currentLayer } = this.state\n        return (\n            <div className={classes.root}>\n                <PublishModal handlePublishName={this.handlePublishName} publishLoading={publishLoading} publishError={publishError} publishName={publishName} handlPublishModal={this.handlPublishModal} publishLayer={this.publishLayer} publishModalOpen={publishModalOpen} />\n                <UpdateExistingModal currentLayer={currentLayer} updateExistingLoading={updateExistingLoading} updateError={updateError} handleUpdateExistingModal={this.handleUpdateExistingModal} replaceLayer={this.replaceLayer} updateExistingModalOpen={updateExistingModalOpen} />\n                <Divider />\n                <Typography noWrap color={\"default\"} className={classes.title} variant=\"headline\">{\"Uploaded List\"}</Typography>\n                {uploads && uploads.map((upload, index) => {\n                    return <UploadListItem setCurrentLayerOpenUpdateModal={this.setCurrentLayerOpenUpdateModal} upload={upload} setCurrentLayerOpenPublishModal={this.setCurrentLayerOpenPublishModal} key={index} />\n                })}\n            </div>\n        )\n    }\n}\n\nUploadsList.propTypes = {\n    classes: PropTypes.object.isRequired,\n    uploads: PropTypes.array.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        uploads: state.uploads,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadsList))\n// return <li key={index} className=\"list-group-item \">\n//     <div className=\"layer-item flex-element flex-space-between equal-area text-center flex-center\">\n//         <span className=\"text-wrap equal-area text-left\">{`Layer Name: ${layer.name}`}</span>\n//         <span className=\"equal-area\">Type:{layer.geometry_type_name}</span>\n//         <span className=\"equal-area\">Feature Count:{layer.feature_count}</span>\n//         {checkPermission(permissions, 'publish_from_package', upload.id) && <button className=\"btn btn-primary glayer-actions\" onClick={() => this.setLayerOpenModal(layer)}>Publish New</button>}\n//         {checkPermission(permissions, 'publish_from_package', upload.id) && <button className=\"btn btn-primary glayer-actions\" onclick=\"getCompatibleLayres('{% url 'compatible_layers' upload_id=upload.id layername=layer.name %}')\">Update</button>}\n//     </div>\n\n// </li>","import { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport { connect } from 'react-redux'\nimport validator from 'validator'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\nclass ArcGISModal extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            sendURLError: null,\n            layerURL: '',\n            loading: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    handleLayerURLChange = (event) => {\n        this.setState({ layerURL: event.target.value })\n    }\n    publishArcGISLayer = (event) => {\n        const { urls } = this.props\n        const { layerURL } = this.state\n        const url = `${urls.esriPublishURL}`\n        this.requests.doPost(url, JSON.stringify({ layer_url: layerURL }), { 'content-type': 'application/json' }).then(result => {\n            if (result.task_id) {\n                this.setState({ loading: false, layerURL: '' }, alert(\"We will send an Email When the Layer is Ready\"))\n            } else {\n                this.setState({ loading: false, sendURLError: result.error_message })\n            }\n        }).catch(error => {\n            this.setState({ loading: false, sendURLError: error.message })\n        })\n    }\n    startPublish = () => {\n        const { layerURL } = this.state\n        if (layerURL, validator.isURL(layerURL)) {\n            this.setState({ loading: true }, this.publishArcGISLayer)\n        }\n    }\n    render() {\n        const { layerURL, loading, sendURLError } = this.state\n        const { ArcGISModalOpen, handleArcGISModal, classes } = this.props\n        return (\n            <Dialog\n                disableBackdropClick={true}\n                open={ArcGISModalOpen}\n                onClose={handleArcGISModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">{\"ArcGIS Layer Publisher\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {`Please Enter your Feature Layer URL \\n ex:http://x.xx.com/ArcGIS/rest/services/xxx/xx/MapServer/0`}\n                    </DialogContentText>\n                    {sendURLError && <Typography className={classes.flexGrow} color=\"secondary\" variant=\"subheading\">{sendURLError}</Typography>}\n                    <TextField\n                        autoFocus\n                        value={layerURL}\n                        onChange={this.handleLayerURLChange}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Layer URL\"\n                        fullWidth\n                        required\n                        error={layerURL && !validator.isURL(layerURL) ? true : false}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    {loading && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={loading} onClick={handleArcGISModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                    <Button disabled={!layerURL || loading || (layerURL && !validator.isURL(layerURL) ? true : false)} onClick={this.startPublish} color=\"primary\">\n                        {\"Publish\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nArcGISModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    handleArcGISModal: PropTypes.func.isRequired,\n    ArcGISModalOpen: PropTypes.bool.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(ArcGISModal))","import { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Collapse from '@material-ui/core/Collapse'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n    button: {\n        margin: theme.spacing.unit\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n    layerItem: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n        flexDirection: 'column'\n    }, layerItemActions: {\n        display: 'flex',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column'\n        },\n\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    },\n    content: {\n        padding: theme.spacing.unit\n    },\n    schemaFields: {\n        display: 'flex',\n        justifyContent: 'space-around'\n    }, textCenter: {\n        textAlign: 'center'\n    }\n})\nclass LayerItem extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            schema: null,\n            schemaLoading: null,\n            reloadLayerLoading: false,\n            replaceLayerLoading: false,\n            expand: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    loadSchema = () => {\n        const { urls, layer, currentLayer } = this.props\n        const url = urls.compareLayerURL(currentLayer.upload_id, currentLayer.name, layer.alternate)\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ schemaLoading: false, schema: null }, alert(result.error_message))\n            } else {\n                this.setState({ schema: result, schemaLoading: false, expand: true })\n            }\n        }).catch(function (err) {\n            this.setState({ schemaLoading: false, schema: null }, alert(err.message))\n        }.bind(this))\n    }\n    compareSchema = () => {\n        const { schema, expand } = this.state\n        if (!schema) {\n            this.setState({ schemaLoading: true, expand: false }, this.loadSchema)\n\n        } else {\n            this.setState({ expand: !expand })\n        }\n    }\n    reloadLayer = () => {\n        const { urls, layer, currentLayer } = this.props\n        const url = urls.reloadURL(currentLayer.upload_id, currentLayer.name, layer.alternate)\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ reloadLayerLoading: false }, alert(result.error_message))\n            } else {\n                this.setState({ reloadLayerLoading: false }, () => alert(result.status))\n            }\n        }).catch(function (err) {\n            this.setState({ reloadLayerLoading: false }, alert(err.message))\n        }.bind(this))\n    }\n    startReloadLayer = () => {\n        this.setState({ reloadLayerLoading: true }, this.reloadLayer)\n    }\n    replaceLayer = () => {\n        const { layer, currentLayer } = this.props\n        const url = `${currentLayer.urls.publish_url}?replace=true&publish_name=${layer.alternate.split(\":\").pop()}`\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ replaceLayerLoading: false }, alert(result.error_message))\n            } else {\n                this.setState({ replaceLayerLoading: false }, () => window.location.href = result.layer_url)\n            }\n        }).catch(function (err) {\n            this.setState({ replaceLayerLoading: false }, alert(err.message))\n        }.bind(this))\n    }\n    startReplaceLayer = () => {\n        this.setState({ replaceLayerLoading: true }, this.replaceLayer)\n    }\n    render() {\n        const { layer, classes } = this.props\n        const { schema, schemaLoading, expand, reloadLayerLoading, replaceLayerLoading } = this.state\n        return (\n            <Paper key={layer.id} className={classes.layerItem} elevation={2}>\n                <div className={classes.layerItemActions}>\n                    <Typography noWrap className={classNames(classes.flexGrow, classes.button)} variant=\"subheading\">{layer.title}</Typography>\n                    {schemaLoading && <CircularProgress className={classes.progress} thickness={5} />}\n                    {reloadLayerLoading && <CircularProgress color=\"default\" className={classes.progress} thickness={5} />}\n                    {replaceLayerLoading && <CircularProgress color=\"secondary\" className={classes.progress} thickness={5} />}\n                    <Tooltip title=\"Comapare The Schema of this Layer With the Target Layer and return the result\">\n                        <Button onClick={this.compareSchema} variant=\"outlined\" color=\"primary\" className={classes.button}>\n                            {\"Compare Schema\"}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip title=\"Delete Recent Data, Style and Metadata and It With the New One\">\n                        <Button onClick={this.startReplaceLayer} variant=\"outlined\" color=\"secondary\" className={classes.button}>\n                            {\"Replace\"}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip title=\"Replace The Current Data Only but Keep the style and metadata\">\n                        <Button onClick={this.startReloadLayer} variant=\"outlined\" color=\"default\" className={classes.button}>\n                            {\"Update(DB Table Replacement)\"}\n                        </Button>\n                    </Tooltip>\n                </div>\n                <Collapse in={expand} timeout=\"auto\" unmountOnExit>\n                    <div className={classes.content}>\n                        <div className={classes.textCenter}>\n                            {!schemaLoading && schema && < Typography color={schema.compatible ? \"primary\" : \"secondary\"} noWrap className={classNames(classes.flexGrow, classes.button)} variant=\"title\">{`Layer Schema is ${schema.compatible ? \"Compatible\" : \"Incompatible\"}`}</Typography>}\n                        </div>\n                        <div className={classes.schemaFields}>\n                            {!schemaLoading && schema && schema.new_fields.length > 0 && <List\n                                component=\"nav\"\n                                subheader={<ListSubheader component=\"div\">{\"New Fields\"}</ListSubheader>}\n                            >\n                                {schema.new_fields.map((field, index) => {\n                                    return <ListItem key={index}>\n                                        <ListItemText inset primary={`Field: ${field[0]}`} secondary={`Type: ${field[1]}`} />\n                                    </ListItem>\n                                })}\n                            </List>}\n                            {!schemaLoading && schema && schema.deleted_fields.length > 0 && <List\n                                component=\"nav\"\n                                subheader={<ListSubheader component=\"div\">{\"Deleted Fields\"}</ListSubheader>}\n                            >\n                                {schema.deleted_fields.map((field, index) => {\n                                    return <ListItem key={index}>\n                                        <ListItemText inset primary={`Field: ${field[0]}`} secondary={`Type: ${field[1]}`} />\n                                    </ListItem>\n                                })}\n                            </List>}\n                        </div>\n                    </div>\n                </Collapse>\n            </Paper >\n        )\n    }\n}\nLayerItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    layer: PropTypes.object.isRequired,\n    currentLayer: PropTypes.object.isRequired\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LayerItem))","import {\n    ADD_UPLOAD,\n    ADD_UPLOADS,\n    DELETE_UPLOAD,\n    DELETE_UPLOADS,\n    SET_TOTAL_COUNT,\n    SET_UPLOADS,\n    UPLOADS_LOADING\n} from './constants'\nexport function addUpload( upload ) {\n    return {\n        type: ADD_UPLOAD,\n        payload: upload\n    }\n}\nexport function addUploads( uploads ) {\n    return {\n        type: ADD_UPLOADS,\n        payload: uploads\n    }\n}\nexport function deleteUpload( uploadID ) {\n    return {\n        type: DELETE_UPLOAD,\n        payload: uploadID\n    }\n}\nexport function deleteUploads( ids ) {\n    return {\n        type: DELETE_UPLOADS,\n        payload: ids\n    }\n}\nexport function newUploads( uploads ) {\n    return {\n        type: SET_UPLOADS,\n        payload: uploads\n    }\n}\nexport function uploadsLoading( loading ) {\n    return {\n        type: UPLOADS_LOADING,\n        payload: loading\n    }\n}\nexport function uploadsTotalCount( count ) {\n    return {\n        type: SET_TOTAL_COUNT,\n        payload: count\n    }\n}\n","import AppBar from '@material-ui/core/AppBar'\nimport ArcGISLayerModal from './ArcGISLayerModal'\nimport Button from '@material-ui/core/Button'\nimport DownloadModal from './DownloadModal'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = {\n    root: {\n        flexGrow: 1,\n    },\n    flex: {\n        flexGrow: 1,\n    },\n    capitalize: {\n        textTransform: 'capitalize'\n    }\n}\n\nclass GeopackageAppBar extends React.Component {\n    state = {\n        downloadModalOpen: false,\n        ArcGISModalOpen: false,\n    }\n    handleArcGISModal = () => {\n        const { ArcGISModalOpen } = this.state\n        this.setState({ ArcGISModalOpen: !ArcGISModalOpen })\n    }\n    handleDownloadModal = () => {\n        const { downloadModalOpen } = this.state\n        this.setState({ downloadModalOpen: !downloadModalOpen })\n    }\n    render() {\n        const { downloadModalOpen, ArcGISModalOpen } = this.state\n        const { classes, title, urls } = this.props\n        return (\n            <div className={classes.root}>\n                <AppBar position=\"static\">\n                    <Toolbar>\n                        <Typography variant=\"title\" color=\"inherit\" className={classes.flex}>\n                            {title}\n                        </Typography>\n                        <Tooltip title=\"Import GeoPackage, Shapefile, CSV, Raster or KML\">\n                            <Button classes={{ label: classes.capitalize }} onClick={() => window.location.href = urls.layerUpload} color=\"inherit\">{\"Upload Shapefile\"}</Button>\n                        </Tooltip>\n                        <Button classes={{ label: classes.capitalize }} onClick={this.handleArcGISModal} color=\"inherit\">{\"ArcGIS Publisher\"}</Button>\n                        <Button classes={{ label: classes.capitalize }} onClick={this.handleDownloadModal} color=\"inherit\">{\"Download\"}</Button>\n                    </Toolbar>\n                </AppBar>\n                <ArcGISLayerModal handleArcGISModal={this.handleArcGISModal} ArcGISModalOpen={ArcGISModalOpen} />\n                <DownloadModal handleDownloadModal={this.handleDownloadModal} downloadModalOpen={downloadModalOpen} />\n            </div>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        urls: state.urls\n    }\n}\nGeopackageAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n    title: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n}\nexport default connect(mapStateToProps, {})(withStyles(styles)(GeopackageAppBar))","function updateProgress(evt) {\n    if (evt.lengthComputable) {\n        let percentComplete = (evt.loaded / evt.total) * 100\n    }\n}\n\nfunction transferComplete(evt) {\n    console.log(\"The transfer is complete.\")\n}\n\nfunction transferFailed(evt) {\n    console.error(\"An error occurred while transferring the file.\")\n}\nexport function convertToSlug(Text) {\n    return Text\n        .toLowerCase()\n        .replace(/ /g, '_')\n        .replace(/[^\\w-]+/g, '');\n}\nexport class ApiRequests {\n    constructor(username, token) {\n        this.token = token\n        this.username = username\n    }\n    doPost(url, data, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'POST',\n            redirect: 'follow',\n            credentials: 'include',\n            headers: new Headers({\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }),\n            body: data\n        }).then((response) => response.json())\n    }\n    doDelete(url, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'DELETE',\n            redirect: 'follow',\n            credentials: 'include',\n            headers: {\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }\n        }).then((response) => response.text())\n    }\n    doGet(url, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'GET',\n            redirect: 'follow',\n            credentials: 'include',\n            headers: {\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }\n        }).then((response) => response.json())\n    }\n    uploadWithProgress(url, data, resultFunc, progressFunc = updateProgress, loadFunc = transferComplete, errorFunc = transferFailed, ) {\n\n        let xhr = new XMLHttpRequest()\n        xhr.upload.addEventListener(\"progress\", function (evt) {\n            progressFunc(evt)\n        }, false)\n        xhr.addEventListener(\"load\", function (evt) {\n            loadFunc(xhr)\n        })\n        xhr.addEventListener(\"error\", function () {\n            errorFunc(xhr)\n        })\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == XMLHttpRequest.DONE) {\n                resultFunc(xhr.responseText)\n            }\n        }\n        xhr.open('POST', url, true)\n        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\")\n        xhr.setRequestHeader('Authorization', `ApiKey ${this.username}:${this.token}`)\n        xhr.send(data)\n\n    }\n}\nexport function checkPermission(permissions, permissionKey, id) {\n    const permissionIds = permissions[permissionKey].ids\n    if (permissionIds.indexOf(id) > -1) {\n        return true\n    }\n    return false\n}"],"sourceRoot":""}