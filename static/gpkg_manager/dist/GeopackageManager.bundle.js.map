{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/components/PublishModal.jsx","webpack:///./src/containers/GeopackageManager.jsx","webpack:///./src/actions/permissions.js","webpack:///./src/themes/index.js","webpack:///./src/components/FileUploadItem.jsx","webpack:///./src/components/UploadListItem.jsx","webpack:///./src/reducers/other.js","webpack:///./src/api/index.js","webpack:///./src/store/index.js","webpack:///./src/reducers/permissions.js","webpack:///./src/reducers/uploads.js","webpack:///./src/actions/constants.js","webpack:///./src/constants.js","webpack:///./src/components/UpdateExistingModal.jsx","webpack:///./src/store/configureStore.js","webpack:///./src/reducers/index.js","webpack:///./src/components/UploadsList.jsx","webpack:///./src/components/LayerItem.jsx","webpack:///./src/actions/uploads.js","webpack:///./src/components/Appbar.jsx","webpack:///./src/utils/utils.jsx"],"names":["root","factory","exports","module","define","amd","window","webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","oldJsonpFunction","slice","_styles","PublishModal","_props","this","props","publishLayer","publishModalOpen","handlPublishModal","publishLoading","classes","publishName","handlePublishName","publishError","_react2","default","createElement","_Dialog2","disableBackdropClick","open","onClose","aria-labelledby","_DialogTitle2","id","_DialogContent2","_DialogContentText2","_Typography2","className","flexGrow","noWrap","color","variant","_TextField2","inputProps","maxLength","autoFocus","onChange","margin","label","fullWidth","required","_DialogActions2","_CircularProgress2","progress","thickness","_Button2","disabled","onClick","React","Component","propTypes","PropTypes","isRequired","func","bool","string","withStyles","theme","spacing","unit","_react","_uploads","_permissions","_utils","_reactRedux","_reactDom","_store","_themes","GeopackageManager","_classCallCheck3","_this","_possibleConstructorReturn3","__proto__","_getPrototypeOf2","onDrop","files","setState","removeUploadedFile","file","newFiles","state","filter","tFile","_this$props","token","username","urls","geopackageApi","GeopackageApi","requests","ApiRequests","setUploads","setUploadsLoading","setTotalCount","setPermissions","setPermissionsLoading","getUploads","then","objects","meta","total_count","getPermissions","_this2","_props2","uploads","uploadsLoading","MuiThemeProvider","fullHeight","_Appbar2","title","_Paper2","_classnames2","elevation","_reactDropzone2","dropZone","accept","htmlFor","_IconButton2","button","component","_FileUpload2","gutterBottom","uploadPaper","_List2","subheader","_ListSubheader2","map","index","_FileUploadItem2","_UploadsList2","array","App","connect","permissions","permissionsLoading","uploadsTotalCount","dispatch","loading","newUploads","perms","count","_extends2","height","width","marginTop","marginBottom","padding","flexDirection","display","alignItems","justifyContent","boxSizing","textAlign","mixins","toolbar","minHeight","_defineProperty3","breakpoints","down","gutters","paddingTop","paddingBottom","overflowX","zIndex","background","global","GeopackageManagerRenderer","show","el","render","Provider","store","storeWithInitial","document","getElementById","type","SET_PERMISSIONS","payload","updatePermissions","permissionKeys","operation","UPDATE_PERMISSIONS","keys","PERMISSIONS_LOADING","_constants","createMuiTheme","palette","primary","blue","secondary","red","error","deepOrange","UploadItem","newToken","split","addUpload","formData","FormData","append","uploadWithProgress","uploadsURL","evt","lengthComputable","percentComplete","loaded","total","xhr","status","setTimeout","newUpload","JSON","parse","responseText","_keys2","ADD_PERMISSION_OP","statusText","_state","_ListItem2","_Avatar2","_ListItemText2","upload","CustomTableCell","head","backgroundColor","dark","common","white","body","fontSize","TableCell","UploadListItem","handleDeleted","deleteOldUpload","targetURL","doDelete","_this$props2","setCurrentLayerOpenPublishModal","setCurrentLayerOpenUpdateModal","_ExpansionPanel2","defaultExpanded","_ExpansionPanelSummary2","content","panelSummary","expandIcon","_ExpandMore2","package","pop","Date","uploaded_at","toLocaleString","user","_ExpansionPanelDetails2","tableWrapper","_Table2","table","_TableHead2","_TableRow2","textCenter","_TableBody2","layers","layer","row","_TableCell2","scope","variat","geometry_type_name","feature_count","checkPermission","upload_id","_ExpansionPanelActions2","href","download_url","size","uploadID","deleteUpload","_panelSummary","&:nth-of-type(odd)","arguments","undefined","action","SET_USERNAME","SET_URLS","SET_TOKEN","offset","pageLimit","LIMIT","doGet","permissionsURL","initialState","_configureStore","configureStore","_extends3","updateObj","parialUpdated","perm","newIds","DELETE_PERMISSION_OP","ids","Error","updateCurrentPermissions","ADD_UPLOAD","concat","_toConsumableArray3","ADD_UPLOADS","DELETE_UPLOAD","DELETE_UPLOADS","includes","SET_UPLOADS","UPLOADS_LOADING","SET_TOTAL_COUNT","UpdateExistingModal","handleLayerTitleChange","event","layerTitle","target","handleSearch","url","layersURL","layersLoading","currentLayer","updateExistingModalOpen","handleUpdateExistingModal","updateExistingLoading","updateError","fullScreen","disableTypography","dialogTitle","whiteText","_FormControl2","textField","_InputLabel2","_Input2","endAdornment","_InputAdornment2","position","aria-label","_Search2","require","_LayerItem2","flexBasis","layerItem","_redux","createStore","rootReducer","applyMiddleware","thunk","_other","combineReducers","UploadsList","expected_name","convertToSlug","replaceLayer","_this$state","publish_url","layer_url","error_message","location","catch","message","_PublishModal2","_UpdateExistingModal2","_Divider2","_UploadListItem2","LayerItem","loadSchema","compareLayerURL","alternate","schemaLoading","schema","alert","expand","err","compareSchema","reloadLayer","reloadURL","reloadLayerLoading","startReloadLayer","_this$props3","replaceLayerLoading","startReplaceLayer","_this$props4","layerItemActions","_Tooltip2","_Collapse2","in","timeout","unmountOnExit","compatible","schemaFields","new_fields","field","inset","deleted_fields","_layerItemActions","addUploads","deleteUploads","GeopackageAppBar","_AppBar2","_Toolbar2","flex","updateProgress","console","log","transferComplete","transferFailed","Text","toLowerCase","replace","permissionKey","indexOf","extraHeaders","fetch","method","credentials","headers","Headers","Authorization","response","json","text","resultFunc","progressFunc","loadFunc","errorFunc","XMLHttpRequest","addEventListener","onreadystatechange","readyState","DONE","setRequestHeader","send"],"mappings":"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","file":"GeopackageManager.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"GeopackageManager\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"GeopackageManager\"] = factory();\n\telse\n\t\troot[\"GeopackageManager\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/static/cartoview_basic_viewer/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp_name_\"] = window[\"webpackJsonp_name_\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"7xdy\",0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\nclass PublishModal extends React.Component {\n    render() {\n        const { publishLayer, publishModalOpen, handlPublishModal, publishLoading, classes, publishName, handlePublishName, publishError } = this.props\n        return (\n            <Dialog\n                disableBackdropClick={true}\n                open={publishModalOpen}\n                onClose={handlPublishModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">{\"Publish Layer\"}</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {publishError && <Typography className={classes.flexGrow} noWrap color=\"secondary\" variant=\"subheading\">{publishError}</Typography>}\n                        {`Please Enter Name You Want to publish Layer With.`}\n                    </DialogContentText>\n                    <TextField\n                        inputProps={{ maxLength: 63 }}\n                        autoFocus\n                        value={publishName}\n                        onChange={handlePublishName}\n                        margin=\"dense\"\n                        id=\"name\"\n                        label=\"Publish Name\"\n                        fullWidth\n                        required\n                    />\n                </DialogContent>\n                <DialogActions>\n                    {publishLoading && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={publishLoading} onClick={handlPublishModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                    <Button disabled={publishLoading} onClick={publishLayer} color=\"primary\">\n                        {\"Publish\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nPublishModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    publishLayer: PropTypes.func.isRequired,\n    handlPublishModal: PropTypes.func.isRequired,\n    handlePublishName: PropTypes.func.isRequired,\n    publishModalOpen: PropTypes.bool.isRequired,\n    publishLoading: PropTypes.bool.isRequired,\n    publishName: PropTypes.string,\n    publishError: PropTypes.string,\n}\nexport default withStyles(styles)(PublishModal)","import 'whatwg-fetch'\nimport 'babel-polyfill'\nimport \"../css/view.css\"\n\nimport React, { Component } from 'react'\nimport { newUploads, uploadsLoading, uploadsTotalCount } from '../actions/uploads'\nimport { permissions, permissionsLoading } from '../actions/permissions'\n\nimport { ApiRequests } from '../utils/utils'\nimport AppBar from '../components/Appbar'\nimport Dropzone from 'react-dropzone'\nimport FileItem from '../components/FileUploadItem'\nimport FileUploadIcon from '@material-ui/icons/FileUpload'\nimport GeopackageApi from '../api'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport { Provider } from 'react-redux'\nimport Typography from '@material-ui/core/Typography'\nimport UploadsList from '../components/UploadsList'\nimport classnames from 'classnames'\nimport { connect } from 'react-redux'\nimport { render } from 'react-dom'\nimport { storeWithInitial } from '../store'\nimport { theme } from '../themes'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    fullHeight: {\n        height: \"100%\"\n    },\n    fullWidth: {\n        width: '100%',\n    },\n    uploadPaper: {\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    dropZone: {\n        width: \"100%\",\n        padding: '1em',\n        flexDirection: 'column',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        boxSizing: 'border-box',\n        textAlign: 'center'\n    },\n    root: {\n        height: `calc( 100% - ${theme.mixins.toolbar['@media (min-width:600px)'].minHeight}px)`,\n        [theme.breakpoints.down('sm')]: {\n            height: `calc( 100% - ${theme.mixins.toolbar['@media (min-width:0px) and (orientation: landscape)'].minHeight}px)`\n        },\n        boxSizing: 'border-box',\n        ...theme.mixins.gutters(),\n        paddingTop: theme.spacing.unit * 2,\n        paddingBottom: theme.spacing.unit * 2,\n        overflowX: 'scroll',\n        zIndex: 0,\n        background: '#f3f3f3'\n\n    },\n})\nclass GeopackageManager extends Component {\n    constructor(props) {\n        super(props)\n        const { token, username, urls } = this.props\n        this.state = {\n            files: [],\n        }\n        this.geopackageApi = new GeopackageApi(username, token, urls)\n        this.requests = new ApiRequests(username, this.token)\n    }\n    onDrop = (files) => {\n        this.setState({\n            files\n        })\n    }\n    componentDidMount() {\n        const { setUploads, setUploadsLoading, setTotalCount, setPermissions, setPermissionsLoading } = this.props\n        this.geopackageApi.getUploads().then(result => {\n            setUploads(result.objects)\n            setTotalCount(result.meta.total_count)\n            setUploadsLoading(false)\n        })\n        this.geopackageApi.getPermissions().then(result => {\n            setPermissions(result)\n            setPermissionsLoading(false)\n        })\n    }\n    removeUploadedFile = (file) => {\n        const { files } = this.state\n        let newFiles = files.filter(tFile => tFile !== file)\n        this.setState({ files: newFiles })\n    }\n    // downloadSelectedLayers = () => {\n    //     // const { urls } = this.props\n    //     // const { downlaodLayers } = this.state\n    //     // const layers = downlaodLayers.map(layer => layer.typename.split(\":\").pop())\n    //     // const url = `${urls.downloadURL}?layer_names=${layers.join(',')}`\n    //     // this.setState({ downloadModalOpen: false }, () => {\n    //     //     this.setState({ progressModalOpen: true }, () => {\n    //     //         this.requests.doGet(url).then(result => {\n    //     //             if (result.download_url) {\n    //     //                 this.setState({ progressModalOpen: false, progressMessage: null }, () => { window.location.href = result.download_url })\n    //     //             } else {\n    //     //                 this.setState({ progressModalOpen: false, progressMessage: null }, () => console.error(result.error_message))\n    //     //             }\n    //     //         }).catch(error => {\n    //     //             console.error(error.message)\n    //     //         })\n    //     //     })\n    //     // })\n    // }\n    render() {\n        const { classes, uploads, uploadsLoading } = this.props\n        const { files } = this.state\n        return (\n            <MuiThemeProvider theme={theme}>\n                <div className={classes.fullHeight}>\n                    <AppBar title=\"GeoPackage Manager\" />\n                    <Paper className={classnames([classes.root])}>\n                        <Paper elevation={2}>\n                            <Dropzone className={classes.dropZone} accept={\".gpkg\"} onDrop={this.onDrop}>\n                                <label htmlFor=\"icon-button-file\">\n                                    <IconButton color=\"default\" className={classes.button} component=\"span\">\n                                        <FileUploadIcon />\n                                    </IconButton>\n                                </label>\n                                <Typography variant=\"display1\" gutterBottom>\n                                    {\"Click to Choose Packages or Drop Packages Here to Upload\"}\n                                </Typography>\n                            </Dropzone>\n                        </Paper>\n                        {files.length > 0 && <Paper className={classnames([classes.fullWidth], [classes.uploadPaper])} elevation={2}><List\n                            className={classes.fullWidth}\n                            component=\"nav\"\n                            subheader={<ListSubheader component=\"div\">{\"Uploading\"}</ListSubheader>}\n                        >\n                            {files.map((file, index) => <FileItem file={file} removeUploadedFile={this.removeUploadedFile} key={index} />)}\n                        </List></Paper>}\n                        {uploads.length > 0 && !uploadsLoading && <UploadsList />}\n                    </Paper>\n                </div>\n            </MuiThemeProvider>\n        )\n    }\n}\nGeopackageManager.propTypes = {\n    classes: PropTypes.object.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    token: PropTypes.string.isRequired,\n    setUploads: PropTypes.func.isRequired,\n    uploads: PropTypes.array.isRequired,\n    uploadsLoading: PropTypes.bool.isRequired,\n    setUploadsLoading: PropTypes.func.isRequired,\n    setPermissionsLoading: PropTypes.func.isRequired,\n    setPermissions: PropTypes.func.isRequired,\n    setTotalCount: PropTypes.func.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        uploads: state.uploads,\n        uploadsLoading: state.uploadsLoading,\n        permissions: state.permissions,\n        permissionsLoading: state.permissionsLoading,\n        uploadsTotalCount: state.uploadsTotalCount\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setUploadsLoading: (loading) => dispatch(uploadsLoading(loading)),\n        setUploads: (uploads) => dispatch(newUploads(uploads)),\n        setPermissionsLoading: (loading) => dispatch(permissionsLoading(loading)),\n        setPermissions: (perms) => dispatch(permissions(perms)),\n        setTotalCount: (count) => dispatch(uploadsTotalCount(count)),\n    }\n}\nlet App = connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(GeopackageManager))\nglobal.GeopackageManagerRenderer = {\n    show: (el, props) => {\n        render(<Provider store={storeWithInitial(props)}><App /></Provider>, document.getElementById(el))\n    }\n}","import {\n    PERMISSIONS_LOADING,\n    SET_PERMISSIONS,\n    UPDATE_PERMISSIONS\n} from './constants'\nexport function permissions( permissions ) {\n    return {\n        type: SET_PERMISSIONS,\n        payload: permissions\n    }\n}\nexport function updatePermissions( permissionKeys, id, operation ) {\n    return {\n        type: UPDATE_PERMISSIONS,\n        payload: {\n            keys: permissionKeys,\n            id,\n            operation,\n        }\n    }\n}\nexport function permissionsLoading( loading ) {\n    return {\n        type: PERMISSIONS_LOADING,\n        payload: loading\n    }\n}\n","import blue from '@material-ui/core/colors/blue'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport deepOrange from '@material-ui/core/colors/deepOrange'\nimport red from '@material-ui/core/colors/red'\nexport const theme = createMuiTheme({\n    palette: {\n        primary: blue,\n        secondary: red,\n        error: deepOrange,\n    },\n})","import React, { Component } from 'react'\n\nimport { ADD_PERMISSION_OP } from '../actions/constants'\nimport { ApiRequests } from '../utils/utils'\nimport Avatar from '@material-ui/core/Avatar'\nimport FileIcon from '@material-ui/icons/FileUpload'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport PropTypes from 'prop-types'\nimport { addUpload } from '../actions/uploads'\nimport { connect } from 'react-redux'\nimport { updatePermissions } from '../actions/permissions'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n})\nclass UploadItem extends Component {\n    constructor(props) {\n        super(props)\n        const { username, token } = this.props\n        this.state = { progress: 0, error: null }\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    componentDidMount() {\n        const { urls, file, addUpload, updatePermissions, permissions, removeUploadedFile } = this.props\n        let formData = new FormData()\n        formData.append(\"package\", file)\n        this.requests.uploadWithProgress(urls.uploadsURL, formData, (result) => {\n            // result = JSON.parse(result)\n            // console.log(result)\n        }, (evt) => {\n            if (evt.lengthComputable) {\n                let percentComplete = (evt.loaded / evt.total) * 100\n                this.setState({ progress: percentComplete })\n            }\n        }, (xhr) => {\n            if (xhr.status === 201) {\n                setTimeout(function () {\n                    const newUpload = JSON.parse(xhr.responseText)\n                    addUpload(newUpload)\n                    updatePermissions(Object.keys(permissions), newUpload.id, ADD_PERMISSION_OP)\n                    removeUploadedFile(file)\n                }, 1000)\n            }\n        }, (xhr) => {\n            if (xhr.status >= 400) {\n                this.setState({ error: xhr.statusText })\n            }\n        })\n    }\n    render() {\n        const { progress, error } = this.state\n        const { file } = this.props\n        return (\n            <ListItem>\n                <Avatar>\n                    <FileIcon />\n                </Avatar>\n                <ListItemText primary={file.name} secondary={!error ? `${progress}% Complete` : error} />\n            </ListItem>\n        )\n    }\n}\nUploadItem.propTypes = {\n    file: PropTypes.object.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    token: PropTypes.string.isRequired,\n    addUpload: PropTypes.func.isRequired,\n    updatePermissions: PropTypes.func.isRequired,\n    permissions: PropTypes.object.isRequired,\n    removeUploadedFile: PropTypes.func.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        permissions: state.permissions,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addUpload: (upload) => dispatch(addUpload(upload)),\n        updatePermissions: (keys, id, operation) => dispatch(updatePermissions(keys, id, operation)),\n    }\n}\nlet App = connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadItem))\nexport default App","import { ApiRequests, checkPermission } from '../utils/utils'\n\nimport Button from '@material-ui/core/Button'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel'\nimport ExpansionPanelActions from '@material-ui/core/ExpansionPanelActions'\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails'\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Table from '@material-ui/core/Table'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Typography from '@material-ui/core/Typography'\nimport { connect } from 'react-redux'\nimport { deleteUpload } from '../actions/uploads'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2,\n    },\n    textCenter: {\n        textAlign: 'center'\n    },\n    title: {\n        margin: theme.spacing.unit,\n        textAlign: 'center'\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    flexGrow: {\n        flexGrow: 1\n    },\n    panelSummary: {\n        display: 'flex',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column',\n            padding:theme.spacing.unit\n        },\n        overflow:'hidden',\n        alignItems: 'center'\n    },\n    table: {\n        width: \"100%\"\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n        width: \"100%\"\n    },\n    row: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\nconst CustomTableCell = withStyles(theme => ({\n    head: {\n        backgroundColor: theme.palette.primary.dark,\n        color: theme.palette.common.white,\n    },\n    body: {\n        fontSize: 14,\n    },\n}))(TableCell)\nclass UploadListItem extends React.Component {\n    constructor(props) {\n        super(props)\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    handleDeleted = (upload) => {\n        const { urls, deleteOldUpload } = this.props\n        const targetURL = `${urls.uploadsURL}${upload.id}/`\n        this.requests.doDelete(targetURL).then(result => {\n            deleteOldUpload(upload.id)\n        })\n    }\n    render() {\n        const { classes, upload, permissions, setCurrentLayerOpenPublishModal, setCurrentLayerOpenUpdateModal } = this.props\n        return (\n            <ExpansionPanel defaultExpanded>\n                <ExpansionPanelSummary classes={{ content: classes.panelSummary }} expandIcon={<ExpandMoreIcon />}>\n                    <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{upload.package.split(\"/\").pop()}</Typography>\n                    <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{`Uploaded At: ${new Date(upload.uploaded_at).toLocaleString()}`}</Typography>\n                    <div>\n                        <Typography className={classes.flexGrow} noWrap variant=\"subheading\">{`Owner: ${upload.user.username}`}</Typography>\n                    </div>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails>\n                    <div className={classes.tableWrapper}>\n                        <Table className={classes.table}>\n                            <TableHead>\n                                <TableRow>\n                                    <CustomTableCell className={classes.textCenter}>{\"Layer Name\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Layer Type\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Feature Count\"}</CustomTableCell>\n                                    <CustomTableCell className={classes.textCenter}>{\"Actions\"}</CustomTableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>\n                                {upload.layers.map((layer, index) => {\n                                    return (\n                                        <TableRow className={classes.row} key={index}>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.name}</Typography>\n                                            </TableCell>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.geometry_type_name}</Typography>\n                                            </TableCell >\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                <Typography noWrap variat=\"body2\">{layer.feature_count}</Typography>\n                                            </TableCell>\n                                            <TableCell className={classes.textCenter} component=\"th\" scope=\"row\">\n                                                {checkPermission(permissions, 'publish_from_package', upload.id) && <Button onClick={() => setCurrentLayerOpenPublishModal(layer)} variant=\"contained\" color=\"primary\" className={classes.button}>\n                                                    {\"Publish New\"}\n                                                </Button>}\n                                                {checkPermission(permissions, 'publish_from_package', upload.id) && <Button variant=\"contained\" onClick={() => setCurrentLayerOpenUpdateModal({ ...layer, upload_id: upload.id })} color=\"secondary\" className={classes.button}>\n                                                    {\"Update Existing\"}\n                                                </Button>}\n                                            </TableCell>\n                                        </TableRow>\n                                    )\n                                })}\n                            </TableBody>\n                        </Table>\n                    </div>\n                </ExpansionPanelDetails>\n                <ExpansionPanelActions>\n                    {checkPermission(permissions, 'download_package', upload.id) && <Button component=\"a\" href={upload.download_url} size=\"small\" variant=\"outlined\" color=\"primary\" className={classes.button}>\n                        {\"Download\"}\n                    </Button>}\n                    {checkPermission(permissions, 'delete_package', upload.id) && <Button onClick={() => this.handleDeleted(upload)} size=\"small\" variant=\"outlined\" color=\"secondary\" className={classes.button}>\n                        {\"Delete\"}\n                    </Button>}\n                </ExpansionPanelActions>\n            </ExpansionPanel>\n        )\n    }\n}\nUploadListItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n    deleteOldUpload: PropTypes.func.isRequired,\n    setCurrentLayerOpenPublishModal: PropTypes.func.isRequired,\n    setCurrentLayerOpenUpdateModal: PropTypes.func.isRequired,\n    upload: PropTypes.object.isRequired,\n    permissions: PropTypes.object.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        permissions: state.permissions\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        deleteOldUpload: (uploadID) => dispatch(deleteUpload(uploadID)),\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadListItem))","import {\n    SET_TOKEN,\n    SET_URLS,\n    SET_USERNAME\n} from '../actions/constants'\nexport function username( state = null, action ) {\n    switch ( action.type ) {\n    case SET_USERNAME:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function urls( state = {}, action ) {\n    switch ( action.type ) {\n    case SET_URLS:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function token( state = null, action ) {\n    switch ( action.type ) {\n    case SET_TOKEN:\n        return action.payload\n    default:\n        return state\n    }\n}\n","import { ApiRequests } from '../utils/utils'\nimport { LIMIT } from '../constants'\nexport default class GeopackageApi {\n    constructor( username, token, urls ) {\n        let newToken = token.split( \" for \" )[ 0 ]\n        this.requests = new ApiRequests( username, newToken )\n        this.urls = urls\n    }\n    getUploads( offset = 0, pageLimit = LIMIT ) {\n        return this.requests.doGet(\n            `${this.urls.uploadsURL}?offset=${offset}&limit=${pageLimit}`\n        )\n    }\n    getPermissions() {\n        return this.requests.doGet( this.urls.permissionsURL )\n    }\n}\n","import { configureStore } from './configureStore'\nexport const store = configureStore()\nexport function storeWithInitial( initialState ) {\n    return configureStore( initialState )\n}\n","import {\n    ADD_PERMISSION_OP,\n    DELETE_PERMISSION_OP,\n    PERMISSIONS_LOADING,\n    SET_PERMISSIONS,\n    UPDATE_PERMISSIONS\n} from '../actions/constants'\n\nfunction updateCurrentPermissions( permissions, updateObj ) {\n    let parialUpdated = {}\n    updateObj.keys.map( key => {\n        let perm = permissions[ key ]\n        let newIds = []\n        switch ( updateObj.operation ) {\n        case DELETE_PERMISSION_OP:\n            newIds = perm.ids.filter( id => id != updateObj.id )\n            break\n        case ADD_PERMISSION_OP:\n            newIds = [ ...perm.ids, updateObj.id ]\n            break\n        default:\n            throw Error( \"Invalid Operation on Permission Obj\" )\n        }\n        perm = { ...perm,\n            ids: newIds\n        }\n        parialUpdated[ key ] = perm\n    } )\n    return { ...permissions, ...parialUpdated }\n}\nexport function permissions( state = [], action ) {\n    switch ( action.type ) {\n    case SET_PERMISSIONS:\n        return action.payload\n    case UPDATE_PERMISSIONS:\n        return { ...state, ...updateCurrentPermissions( state, action.payload ) }\n    default:\n        return state\n    }\n}\nexport function permissionsLoading( state = true, action ) {\n    switch ( action.type ) {\n    case PERMISSIONS_LOADING:\n        return action.payload\n    default:\n        return state\n    }\n}\n","import {\n    ADD_UPLOAD,\n    ADD_UPLOADS,\n    DELETE_UPLOAD,\n    DELETE_UPLOADS,\n    SET_TOTAL_COUNT,\n    SET_UPLOADS,\n    UPLOADS_LOADING\n} from '../actions/constants'\nexport function uploads( state = [], action ) {\n    switch ( action.type ) {\n    case ADD_UPLOAD:\n        return [ action.payload, ...state ]\n    case ADD_UPLOADS:\n        return [ ...state, ...action.payload ]\n    case DELETE_UPLOAD:\n        return state.filter( upload => upload.id != action.payload )\n    case DELETE_UPLOADS:\n        return state.map( upload => !action.payload.includes( upload.id ) )\n    case SET_UPLOADS:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function uploadsLoading( state = true, action ) {\n    switch ( action.type ) {\n    case UPLOADS_LOADING:\n        return action.payload\n    default:\n        return state\n    }\n}\nexport function uploadsTotalCount( state = 0, action ) {\n    switch ( action.type ) {\n    case SET_TOTAL_COUNT:\n        return action.payload\n    default:\n        return state\n    }\n}\n","export const ADD_UPLOAD = \"ADD_UPLOAD\"\nexport const ADD_UPLOADS = \"ADD_UPLOADS\"\nexport const DELETE_UPLOAD = \"DELETE_UPLOAD\"\nexport const DELETE_UPLOADS = \"DELETE_UPLOADS\"\nexport const SET_UPLOADS = \"NEW_UPLOADS\"\nexport const UPLOADS_LOADING = \"UPLOADS_LOADING\"\nexport const SET_PERMISSIONS = \"SET_PERMISSIONS\"\nexport const UPDATE_PERMISSIONS = \"UPDATE_PERMISSIONS\"\nexport const PERMISSIONS_LOADING = \"PERMISSIONS_LOADING\"\nexport const SET_TOTAL_COUNT = \"SET_TOTAL_COUNT\"\nexport const SET_URLS = \"SET_URLS\"\nexport const SET_USERNAME = \"SET_USERNAME\"\nexport const SET_TOKEN = \"SET_TOKEN\"\nexport const ADD_PERMISSION_OP = \"ADD\"\nexport const DELETE_PERMISSION_OP = \"DELETE\"\n","\nexport const LIMIT = 20","import { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport FormControl from '@material-ui/core/FormControl'\nimport IconButton from '@material-ui/core/IconButton'\nimport Input from '@material-ui/core/Input'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport LayerItem from './LayerItem'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport SearchIcon from '@material-ui/icons/Search'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n    button: {\n        margin: theme.spacing.unit\n    },\n    margin: {\n        margin: theme.spacing.unit,\n    },\n    textField: {\n        flexBasis: 200,\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    layerItem: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    }, dialogTitle: {\n        backgroundColor: theme.palette.primary[500],\n        marginBottom: theme.spacing.unit * 2\n    }, whiteText: {\n        color: theme.palette.common.white,\n    }\n})\nclass UpdateExistingModal extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            layerTitle: '',\n            layers: [],\n            layersLoading: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    handleLayerTitleChange = event => {\n        this.setState({ layerTitle: event.target.value })\n    }\n    handleSearch = () => {\n\n        const { layerTitle } = this.state\n        const { urls } = this.props\n        const url = `${urls.layersURL}?title__icontains=${layerTitle}&alternate__icontains=${layerTitle}&permission=change_resourcebase`\n        this.setState({ layersLoading: true }, () => {\n            this.requests.doGet(url).then(result => {\n                this.setState({ layers: result.objects, layersLoading: false })\n            })\n        })\n    }\n\n    render() {\n        const { layers, layersLoading } = this.state\n        const { currentLayer, updateExistingModalOpen, handleUpdateExistingModal, updateExistingLoading, classes, updateError } = this.props\n        return (\n            <Dialog\n                fullScreen\n                disableBackdropClick={true}\n                open={updateExistingModalOpen}\n                onClose={handleUpdateExistingModal}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle disableTypography={true} className={classes.dialogTitle}> <Typography className={classNames(classes.flexGrow, classes.whiteText)} noWrap variant=\"title\">{\"Update/Replace Layer\"}</Typography></DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        {updateError && <Typography className={classes.flexGrow} noWrap color=\"secondary\" variant=\"subheading\">{updateError}</Typography>}\n                        {`Search For The Layer You Want To Replace/Update By ${currentLayer ? currentLayer.name : ''}`}\n                    </DialogContentText>\n                    <FormControl className={classNames(classes.margin, classes.textField, classes.fullWidth)}>\n                        <InputLabel htmlFor=\"layers-search\">{`Layer Name/Layer Title`}</InputLabel>\n                        <Input\n                            id=\"layers-search\"\n                            type={'text'}\n                            value={this.state.layerTitle}\n                            onChange={this.handleLayerTitleChange}\n                            endAdornment={\n                                <InputAdornment position=\"end\">\n                                    <IconButton\n                                        aria-label=\"Search\"\n                                        onClick={this.handleSearch}\n                                    >\n                                        <SearchIcon />\n                                    </IconButton>\n                                </InputAdornment>\n                            }\n                            require=\"true\"\n                            fullWidth\n                        />\n                    </FormControl>\n                    {!layersLoading && layers.length > 0 && layers.map(layer => {\n                        return <LayerItem key={layer.id} currentLayer={currentLayer} layer={layer} />\n                    })}\n                </DialogContent>\n                <DialogActions>\n                    {(updateExistingLoading || layersLoading) && <CircularProgress className={classes.progress} thickness={7} />}\n                    <Button disabled={updateExistingLoading || layersLoading} onClick={handleUpdateExistingModal} color=\"primary\">\n                        {\"Cancel\"}\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        )\n    }\n}\nUpdateExistingModal.propTypes = {\n    classes: PropTypes.object.isRequired,\n    currentLayer: PropTypes.object,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    handleUpdateExistingModal: PropTypes.func.isRequired,\n    updateExistingModalOpen: PropTypes.bool.isRequired,\n    updateExistingLoading: PropTypes.bool.isRequired,\n    updateError: PropTypes.string,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UpdateExistingModal))","import { applyMiddleware, createStore } from 'redux'\n\nimport rootReducer from '../reducers'\nimport thunk from 'redux-thunk'\n\nexport function configureStore( initialState ) {\n    return createStore( rootReducer, initialState, applyMiddleware( thunk ) )\n}","import {\n    permissions,\n    permissionsLoading\n} from './permissions'\nimport {\n    token,\n    urls,\n    username\n} from './other'\nimport {\n    uploads,\n    uploadsLoading,\n    uploadsTotalCount\n} from './uploads'\n\nimport { combineReducers } from 'redux'\n\nexport default combineReducers( {\n    uploads,\n    uploadsLoading,\n    permissions,\n    permissionsLoading,\n    uploadsTotalCount,\n    urls,\n    username,\n    token,\n} )\n","import { ApiRequests, convertToSlug } from '../utils/utils'\n\nimport Divider from '@material-ui/core/Divider'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport PublishModal from './PublishModal'\nimport React from 'react'\nimport Typography from '@material-ui/core/Typography'\nimport UpdateExistingModal from './UpdateExistingModal'\nimport UploadListItem from './UploadListItem'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        marginTop: theme.spacing.unit * 2,\n        marginBottom: theme.spacing.unit * 2,\n        boxSizing: 'border-box',\n        padding: theme.spacing.unit,\n    },\n    textCenter: {\n        textAlign: 'center'\n    },\n    title: {\n        margin: theme.spacing.unit,\n        textAlign: 'center'\n    },\n    button: {\n        margin: theme.spacing.unit,\n    },\n    flexGrow: {\n        flexGrow: 1\n    },\n    panelSummary: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    table: {\n        width: \"100%\"\n    },\n    tableWrapper: {\n        overflowX: 'auto',\n        width: \"100%\"\n    },\n    row: {\n        '&:nth-of-type(odd)': {\n            backgroundColor: theme.palette.background.default,\n        },\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n})\n\nclass UploadsList extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            publishModalOpen: false,\n            publishName: null,\n            currentLayer: null,\n            publishLoading: false,\n            publishError: null,\n            updateError: null,\n            updateExistingLoading: false,\n            updateExistingModalOpen: false,\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    setCurrentLayerOpenPublishModal = (layer) => {\n        this.setState({ currentLayer: layer, publishName: layer.expected_name }, this.handlPublishModal)\n    }\n    setCurrentLayerOpenUpdateModal = (layer) => {\n        this.setState({ currentLayer: layer }, this.handleUpdateExistingModal)\n    }\n    handlPublishModal = () => {\n        const { publishModalOpen } = this.state\n        this.setState({ publishModalOpen: !publishModalOpen, publishError: null })\n    }\n    handleUpdateExistingModal = () => {\n        const { updateExistingModalOpen } = this.state\n        this.setState({ updateExistingModalOpen: !updateExistingModalOpen, updateError: null })\n    }\n    handlePublishName = (event) => {\n        this.setState({ publishName: convertToSlug(event.target.value) })\n    }\n    replaceLayer = () => {\n\n    }\n    publishLayer = () => {\n        const { currentLayer, publishName } = this.state\n        this.setState({ publishLoading: true }, () => {\n            this.requests.doGet(`${currentLayer.urls.publish_url}?publish_name=${publishName}`).then(result => {\n                if (result.layer_url) {\n                    window.location.href = result.layer_url\n                } else {\n                    throw Error(result.error_message)\n                }\n            }).catch(error => {\n                this.setState({ publishLoading: false, publishError: error.message })\n            })\n        })\n\n\n    }\n    render() {\n        const { classes, uploads } = this.props\n        const { publishModalOpen, publishLoading, publishError, publishName, updateExistingLoading, updateError, updateExistingModalOpen, currentLayer } = this.state\n        return (\n            <div className={classes.root}>\n                <PublishModal handlePublishName={this.handlePublishName} publishLoading={publishLoading} publishError={publishError} publishName={publishName} handlPublishModal={this.handlPublishModal} publishLayer={this.publishLayer} publishModalOpen={publishModalOpen} />\n                <UpdateExistingModal currentLayer={currentLayer} updateExistingLoading={updateExistingLoading} updateError={updateError} handleUpdateExistingModal={this.handleUpdateExistingModal} replaceLayer={this.replaceLayer} updateExistingModalOpen={updateExistingModalOpen} />\n                <Divider />\n                <Typography noWrap color={\"default\"} className={classes.title} variant=\"headline\">{\"Uploaded List\"}</Typography>\n                {uploads && uploads.map((upload, index) => {\n                    return <UploadListItem setCurrentLayerOpenUpdateModal={this.setCurrentLayerOpenUpdateModal} upload={upload} setCurrentLayerOpenPublishModal={this.setCurrentLayerOpenPublishModal} key={index} />\n                })}\n            </div>\n        )\n    }\n}\n\nUploadsList.propTypes = {\n    classes: PropTypes.object.isRequired,\n    uploads: PropTypes.array.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls,\n        uploads: state.uploads,\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(UploadsList))\n// return <li key={index} className=\"list-group-item \">\n//     <div className=\"layer-item flex-element flex-space-between equal-area text-center flex-center\">\n//         <span className=\"text-wrap equal-area text-left\">{`Layer Name: ${layer.name}`}</span>\n//         <span className=\"equal-area\">Type:{layer.geometry_type_name}</span>\n//         <span className=\"equal-area\">Feature Count:{layer.feature_count}</span>\n//         {checkPermission(permissions, 'publish_from_package', upload.id) && <button className=\"btn btn-primary glayer-actions\" onClick={() => this.setLayerOpenModal(layer)}>Publish New</button>}\n//         {checkPermission(permissions, 'publish_from_package', upload.id) && <button className=\"btn btn-primary glayer-actions\" onclick=\"getCompatibleLayres('{% url 'compatible_layers' upload_id=upload.id layername=layer.name %}')\">Update</button>}\n//     </div>\n\n// </li>","import { ApiRequests } from '../utils/utils'\nimport Button from '@material-ui/core/Button'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Collapse from '@material-ui/core/Collapse'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport ListSubheader from '@material-ui/core/ListSubheader'\nimport Paper from '@material-ui/core/Paper'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport Typography from '@material-ui/core/Typography'\nimport classNames from 'classnames'\nimport { connect } from 'react-redux'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = theme => ({\n    flexGrow: {\n        flexGrow: 1\n    },\n    button: {\n        margin: theme.spacing.unit\n    },\n    progress: {\n        margin: theme.spacing.unit * 2,\n    },\n    layerItem: {\n        margin: theme.spacing.unit * 2,\n        display: 'flex',\n        flexDirection: 'column'\n    }, layerItemActions: {\n        display: 'flex',\n        [theme.breakpoints.down('sm')]: {\n            flexDirection: 'column'\n        },\n\n        alignItems: 'center',\n        justifyContent: 'space-between'\n    },\n    content: {\n        padding: theme.spacing.unit\n    },\n    schemaFields: {\n        display: 'flex',\n        justifyContent: 'space-around'\n    }, textCenter: {\n        textAlign: 'center'\n    }\n})\nclass LayerItem extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            schema: null,\n            schemaLoading: null,\n            reloadLayerLoading: false,\n            replaceLayerLoading: false,\n            expand: false\n        }\n        const { token, username } = this.props\n        let newToken = token.split(\" for \")[0]\n        this.requests = new ApiRequests(username, newToken)\n    }\n    loadSchema = () => {\n        const { urls, layer, currentLayer } = this.props\n        const url = urls.compareLayerURL(currentLayer.upload_id, currentLayer.name, layer.alternate)\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ schemaLoading: false, schema: null }, alert(result.error_message))\n            } else {\n                this.setState({ schema: result, schemaLoading: false, expand: true })\n            }\n        }).catch(function (err) {\n            this.setState({ schemaLoading: false, schema: null }, alert(err.message))\n        }.bind(this))\n    }\n    compareSchema = () => {\n        const { schema, expand } = this.state\n        if (!schema) {\n            this.setState({ schemaLoading: true, expand: false }, this.loadSchema)\n\n        } else {\n            this.setState({ expand: !expand })\n        }\n    }\n    reloadLayer = () => {\n        const { urls, layer, currentLayer } = this.props\n        const url = urls.reloadURL(currentLayer.upload_id, currentLayer.name, layer.alternate)\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ reloadLayerLoading: false }, alert(result.error_message))\n            } else {\n                this.setState({ reloadLayerLoading: false }, () => alert(result.status))\n            }\n        }).catch(function (err) {\n            this.setState({ reloadLayerLoading: false }, alert(err.message))\n        }.bind(this))\n    }\n    startReloadLayer = () => {\n        this.setState({ reloadLayerLoading: true }, this.reloadLayer)\n    }\n    replaceLayer = () => {\n        const { layer, currentLayer } = this.props\n        const url = `${currentLayer.urls.publish_url}?replace=true&publish_name=${layer.alternate.split(\":\").pop()}`\n        this.requests.doGet(url).then(result => {\n            if (result.error_message) {\n                this.setState({ replaceLayerLoading: false }, alert(result.error_message))\n            } else {\n                this.setState({ replaceLayerLoading: false }, () => window.location.href = result.layer_url)\n            }\n        }).catch(function (err) {\n            this.setState({ replaceLayerLoading: false }, alert(err.message))\n        }.bind(this))\n    }\n    startReplaceLayer = () => {\n        this.setState({ replaceLayerLoading: true }, this.replaceLayer)\n    }\n    render() {\n        const { layer, classes } = this.props\n        const { schema, schemaLoading, expand, reloadLayerLoading, replaceLayerLoading } = this.state\n        return (\n            <Paper key={layer.id} className={classes.layerItem} elevation={2}>\n                <div className={classes.layerItemActions}>\n                    <Typography noWrap className={classNames(classes.flexGrow, classes.button)} variant=\"subheading\">{layer.title}</Typography>\n                    {schemaLoading && <CircularProgress className={classes.progress} thickness={5} />}\n                    {reloadLayerLoading && <CircularProgress color=\"default\" className={classes.progress} thickness={5} />}\n                    {replaceLayerLoading && <CircularProgress color=\"secondary\" className={classes.progress} thickness={5} />}\n                    <Tooltip title=\"Comapare The Schema of this Layer With the Target Layer and return the result\">\n                        <Button onClick={this.compareSchema} variant=\"outlined\" color=\"primary\" className={classes.button}>\n                            {\"Compare Schema\"}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip title=\"Completly Replace Layer i.e(replace Layer Portal Record, Styles, Database Table, Geoserver Layer and thumbnails)\">\n                        <Button onClick={this.startReplaceLayer} variant=\"outlined\" color=\"secondary\" className={classes.button}>\n                            {\"Replace\"}\n                        </Button>\n                    </Tooltip>\n                    <Tooltip title=\"Replace Current Database Table With This One\">\n                        <Button onClick={this.startReloadLayer} variant=\"outlined\" color=\"default\" className={classes.button}>\n                            {\"Update(DB Table Replacement)\"}\n                        </Button>\n                    </Tooltip>\n                </div>\n                <Collapse in={expand} timeout=\"auto\" unmountOnExit>\n                    <div className={classes.content}>\n                        <div className={classes.textCenter}>\n                            {!schemaLoading && schema && < Typography color={schema.compatible ? \"primary\" : \"secondary\"} noWrap className={classNames(classes.flexGrow, classes.button)} variant=\"title\">{`Layer is ${schema.compatible ? \"Compatible\" : \"Incompatible\"}`}</Typography>}\n                        </div>\n                        <div className={classes.schemaFields}>\n                            {!schemaLoading && schema && schema.new_fields.length > 0 && <List\n                                component=\"nav\"\n                                subheader={<ListSubheader component=\"div\">{\"New Fields\"}</ListSubheader>}\n                            >\n                                {schema.new_fields.map((field, index) => {\n                                    return <ListItem key={index}>\n                                        <ListItemText inset primary={`Field: ${field[0]}`} secondary={`Type: ${field[1]}`} />\n                                    </ListItem>\n                                })}\n                            </List>}\n                            {!schemaLoading && schema && schema.deleted_fields.length > 0 && <List\n                                component=\"nav\"\n                                subheader={<ListSubheader component=\"div\">{\"Deleted Fields\"}</ListSubheader>}\n                            >\n                                {schema.deleted_fields.map((field, index) => {\n                                    return <ListItem key={index}>\n                                        <ListItemText inset primary={`Field: ${field[0]}`} secondary={`Type: ${field[1]}`} />\n                                    </ListItem>\n                                })}\n                            </List>}\n                        </div>\n                    </div>\n                </Collapse>\n            </Paper >\n        )\n    }\n}\nLayerItem.propTypes = {\n    classes: PropTypes.object.isRequired,\n    token: PropTypes.string.isRequired,\n    urls: PropTypes.object.isRequired,\n    username: PropTypes.string.isRequired,\n    layer: PropTypes.object.isRequired,\n    currentLayer: PropTypes.object.isRequired\n}\nconst mapStateToProps = (state) => {\n    return {\n        username: state.username,\n        token: state.token,\n        urls: state.urls\n    }\n}\nconst mapDispatchToProps = (dispatch) => {\n    return {\n    }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(withStyles(styles)(LayerItem))","import {\n    ADD_UPLOAD,\n    ADD_UPLOADS,\n    DELETE_UPLOAD,\n    DELETE_UPLOADS,\n    SET_TOTAL_COUNT,\n    SET_UPLOADS,\n    UPLOADS_LOADING\n} from './constants'\nexport function addUpload( upload ) {\n    return {\n        type: ADD_UPLOAD,\n        payload: upload\n    }\n}\nexport function addUploads( uploads ) {\n    return {\n        type: ADD_UPLOADS,\n        payload: uploads\n    }\n}\nexport function deleteUpload( uploadID ) {\n    return {\n        type: DELETE_UPLOAD,\n        payload: uploadID\n    }\n}\nexport function deleteUploads( ids ) {\n    return {\n        type: DELETE_UPLOADS,\n        payload: ids\n    }\n}\nexport function newUploads( uploads ) {\n    return {\n        type: SET_UPLOADS,\n        payload: uploads\n    }\n}\nexport function uploadsLoading( loading ) {\n    return {\n        type: UPLOADS_LOADING,\n        payload: loading\n    }\n}\nexport function uploadsTotalCount( count ) {\n    return {\n        type: SET_TOTAL_COUNT,\n        payload: count\n    }\n}\n","import 'typeface-roboto'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport IconButton from '@material-ui/core/IconButton'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport { withStyles } from '@material-ui/core/styles'\n\nconst styles = {\n    root: {\n        flexGrow: 1,\n    },\n    flex: {\n        flexGrow: 1,\n    }\n}\n\nfunction GeopackageAppBar(props) {\n    const { classes, title } = props\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <Typography variant=\"title\" color=\"inherit\" className={classes.flex}>\n                        {title}\n                    </Typography>\n                </Toolbar>\n            </AppBar>\n        </div>\n    )\n}\nGeopackageAppBar.propTypes = {\n    classes: PropTypes.object.isRequired,\n    title: PropTypes.string.isRequired,\n}\nexport default withStyles(styles)(GeopackageAppBar)","function updateProgress(evt) {\n    if (evt.lengthComputable) {\n        let percentComplete = (evt.loaded / evt.total) * 100\n        console.log(\"Progress is ----> \" + percentComplete)\n    }\n}\n\nfunction transferComplete(evt) {\n    console.log(\"The transfer is complete.\")\n}\n\nfunction transferFailed(evt) {\n    console.error(\"An error occurred while transferring the file.\")\n}\nexport function convertToSlug(Text) {\n    return Text\n        .toLowerCase()\n        .replace(/ /g, '_')\n        .replace(/[^\\w-]+/g, '');\n}\nexport class ApiRequests {\n    constructor(username, token) {\n        this.token = token\n        this.username = username\n    }\n    doPost(url, data, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'POST',\n            credentials: 'include',\n            headers: new Headers({\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }),\n            body: data\n        }).then((response) => response.json())\n    }\n    doDelete(url, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'DELETE',\n            credentials: 'include',\n            headers: {\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }\n        }).then((response) => response.text())\n    }\n    doGet(url, extraHeaders = {}) {\n        return fetch(url, {\n            method: 'GET',\n            credentials: 'include',\n            headers: {\n                'Authorization': `ApiKey ${this.username}:${this.token}`,\n                ...extraHeaders\n            }\n        }).then((response) => response.json())\n    }\n    uploadWithProgress(url, data, resultFunc, progressFunc = updateProgress, loadFunc = transferComplete, errorFunc = transferFailed, ) {\n\n        let xhr = new XMLHttpRequest()\n        xhr.upload.addEventListener(\"progress\", function (evt) {\n            progressFunc(evt)\n        }, false)\n        xhr.addEventListener(\"load\", function (evt) {\n            loadFunc(xhr)\n        })\n        xhr.addEventListener(\"error\", function () {\n            errorFunc(xhr)\n        })\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState == XMLHttpRequest.DONE) {\n                resultFunc(xhr.responseText)\n            }\n        }\n        xhr.open('POST', url, true)\n        xhr.setRequestHeader(\"Cache-Control\", \"no-cache\")\n        xhr.setRequestHeader('Authorization', `ApiKey ${this.username}:${this.token}`)\n        xhr.send(data)\n\n    }\n}\nexport function checkPermission(permissions, permissionKey, id) {\n    const permissionIds = permissions[permissionKey].ids\n    if (permissionIds.indexOf(id) > -1) {\n        return true\n    }\n    return false\n}"],"sourceRoot":""}